<mat-card data-test="sign-up">
    <mat-card-title class="title">
        Zapisywarka
    </mat-card-title>
    <mat-card-content>
        <h2 class="mat-title">Zaloguj się</h2>
        <form [formGroup]="loginForm">
            <mat-form-field appearance="outline" class="full-width-field" style="margin-bottom: 1em"
                data-test="user-name">
                <mat-label>Nazwa użytkownika</mat-label>
                <input matInput formControlName="userName" data-test="username"/>
                <mat-error data-test="validation-error" >{{loginForm.controls.userName.errors?.notEmpty?.message}}</mat-error>             
            </mat-form-field>
            <mat-form-field appearance="outline" class="full-width-field" >
                <mat-label>Hasło</mat-label>
                <input [type]="hidePassword ? 'password' : 'text'" matInput formControlName="password" data-test="password"/>
                <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword">
                    <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button> 
                <mat-error data-test="validation-error" >{{loginForm.controls.password.errors?.notEmpty?.message}}</mat-error>
            </mat-form-field>
            <mat-checkbox formControlName="rememberMe" data-test="remember-me">Zapamiętaj mnie</mat-checkbox>
            <mat-error>{{loginForm.errors?.invalidCedentials.message}}</mat-error>
            <div>                
            <small *ngIf="invalidCredentialsError" class="server-error" data-test="invalid-credentials-error">{{invalidCredentialsError}}</small>
            </div>            
        </form>
        <section class="buttons-section">
            <a mat-button color="primary" [routerLink]="signUpPath" >Utwórz konto</a>
            <button mat-flat-button color="primary" (click)="onSubmit()" data-test="login-button">Zaloguj</button>
        </section>        
    </mat-card-content>
</mat-card>