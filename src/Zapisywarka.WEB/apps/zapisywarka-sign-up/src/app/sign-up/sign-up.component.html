<mat-card data-test="sign-up">
  <mat-card-title class="title">
    Zapisywarka
    <mat-progress-bar *ngIf="loading" mode="indeterminate" data-test=loading></mat-progress-bar>
  </mat-card-title>
  <mat-card-content>
    <h2 class="mat-title">Załóż konto</h2>
    <form [formGroup]="userForm" (submit)="onSubmit()">
      <div *ngIf="!showSignUpForm" class="form-container">
        <mat-form-field appearance="outline" class="full-width-field" data-test=access-code>
          <mat-label>Kod dostępu</mat-label>
          <input type="password" matInput formControlName="accessCode" />
          <mat-error data-test=validation-error>{{getErrorMessage()}}</mat-error>
        </mat-form-field>
        <button (click)="validateAccessCode()" 
          mat-raised-button
          type="button" 
          class="full-width-field" 
          color="primary"
          data-test=next-button>
          Dalej
        </button>
      </div>
      <app-sign-up-form *ngIf="showSignUpForm" @myInsertTrigger [userForm]="userForm" data-test=sign-up-form>
      </app-sign-up-form>
    </form>
  </mat-card-content>
</mat-card>