<isui-identity-card [loadind]="loading">
  <h2 class="mat-title">Zaloguj się</h2>
  <div *ngIf="error" class="server-error" data-test="server-error">
    {{ error }}
  </div>
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" #loginFormTempl="ngForm">
     <sui-text-field
      [label]="'Nazwa użytkownika'"
      required
      fullWidth
      formControlName="userName"
      data-test="username"      
      [showError]="loginForm.controls.userName.invalid && (loginForm.controls.userName.dirty || loginFormTempl.submitted)"
      [errorMessage]="loginForm.controls.userName.errors?.notEmpty?.message"
    >      
    </sui-text-field>
     <sui-password-field
      [label]="'Hasło'"
      required
      fullWidth
      [showError]="loginForm.controls.password.invalid && (loginForm.controls.password.dirty || loginFormTempl.submitted)"
      [errorMessage]="loginForm.controls.password.errors?.notEmpty?.message"
      formControlName="password"
      data-test="password"
    >
    </sui-password-field>
    <mat-checkbox formControlName="rememberMe" data-test="remember-me"
      >Zapamiętaj mnie</mat-checkbox
    >
    <section class="buttons-section">
      <a mat-button color="primary" [routerLink]="signUpPath">Utwórz konto</a>
      <button
        mat-flat-button
        type="submit"
        color="primary"
        data-test="login-button"
      >
        Zaloguj
      </button>
    </section>
  </form>
</isui-identity-card>

